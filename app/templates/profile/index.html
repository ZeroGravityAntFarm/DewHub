<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="{{ user.name }}" property="og:title" />
  <meta content="{{ user.about }}" property="og:description" />
  <meta content="https://fileshare.zgaf.io" property="og:url" />
  <meta content="https://fileshare.zgaf.io/content/default/forge.jpg" property="og:image" />
  <meta content="#43B581" data-react-helmet="true" name="theme-color" />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
  <title>Dewrito Share</title>
  <link href="/frontend.css" rel="stylesheet">
</head>

<body>
  <header class="navbar navbar-dark navbar-expand-lg sticky-top bg-dark flex-md-nowrap p-1">
    <a class="navbar-brand col-md-0 col-lg-0 me-0 px-3" href="/">
      <img src="/content/default/eldorito.png" alt="eldorito" style="width:30px;height:30px;">
    </a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
      data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown"
        aria-expanded="false">
        Version
      </button>
      <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">
        <li><a class="dropdown-item active" href="/?version=0.7">0.7.X</a></li>
        <li><a class="dropdown-item" href="/?version=0.6.1">0.6.1</a></li>
        <li><a class="dropdown-item" href="/?version=0.5.1">0.5.1</a></li>
        <li>
          <hr class="dropdown-divider">
        </li>
        <li><a class="dropdown-item" href="#">All</a></li>
      </ul>
    </div>
    <form class="d-flex w-100 py-1">
      <input class="form-control me-1 ms-1" id="search_bar" type="search" placeholder="Search" aria-label="Search">
      <button type='button' class="btn btn-outline-success" onclick="searchMaps()">Search</button>
    </form>
    <div class="d-flex w-100"></div>
    <div class="d-flex w-100"></div>
    <div class="navbar-nav py-1 ms-1">
      <div class="nav-item text-nowrap">
        <div id="user-prof"></div>
      </div>
    </div>
  </header>

  <div class="container-fluid">
    <div class="row flex-nowrap">
      <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
        <div class="position-sticky pt-3 d-flex flex-column vh-100">
          <ul class="nav nav-pills flex-column mb-sm-auto mb-0 pt-2" id="menu">
            <li class="nav-item">
              <a href="#submenu1" data-bs-toggle="collapse" class="nav-link px-3 align-middle">
                <i class="fs-4 bi-map"></i> <span class="ms-1 d-sm-inline">Maps</span>
              </a>
              <ul class="collapse show nav flex-column ms-1" id="submenu1" data-bs-parent="#menu">
                <li class="w-100">
                  <a href="/maps/newest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Newest</span></a>
                </li>
                <li>
                  <a href="/maps/downloaded" class="nav-link px-3 link-secondary">
                    <span class="d-sm-inline">Most Downloaded</span></a>
                </li>
                <li>
                  <a href="/maps/oldest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Oldest</span></a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#submenu2" data-bs-toggle="collapse" class="nav-link px-3 align-middle">
                <i class="fs-4 bi-gear"></i> <span class="ms-1 d-sm-inline">Variants</span>
              </a>
              <ul class="collapse nav flex-column ms-1" id="submenu2" data-bs-parent="#menu">
                <li class="w-100">
                  <a href="/variants/newest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Newest</span></a>
                </li>
                <li>
                  <a href="/variants/downloaded" class="nav-link px-3 link-secondary">
                    <span class="d-sm-inline">Most Downloaded</span></a>
                </li>
                <li>
                  <a href="/variants/oldest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Oldest</span></a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#submenu3" data-bs-toggle="collapse" class="nav-link px-3 align-middle">
                <i class="fs-4 bi-grid"></i> <span class="ms-1 d-sm-inline">Pre-Fabs</span>
              </a>
              <ul class="collapse nav flex-column ms-1" id="submenu3" data-bs-parent="#menu">
                <li class="w-100">
                  <a href="/prefabs/newest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Newest</span></a>
                </li>
                <li>
                  <a href="/prefabs/downloaded" class="nav-link px-3 link-secondary">
                    <span class="d-sm-inline">Most Downloaded</span></a>
                </li>
                <li>
                  <a href="/prefabs/oldest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Oldest</span></a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#submenu4" data-bs-toggle="collapse" class="nav-link px-3 align-middle">
                <i class="fs-4 bi-code-square"></i> <span class="ms-1 d-sm-inline">Mods</span>
              </a>
              <ul class="collapse nav flex-column ms-1" id="submenu4" data-bs-parent="#menu">
                <li class="w-100">
                  <a href="/mods/newest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Newest</span></a>
                </li>
                <li>
                  <a href="/mods/downloaded" class="nav-link px-3 link-secondary">
                    <span class="d-sm-inline">Most Downloaded</span></a>
                </li>
                <li>
                  <a href="/mods/oldest" class="nav-link px-3 link-secondary"> <span
                      class="d-sm-inline">Oldest</span></a>
                </li>
              </ul>
            </li>
            <hr class="bg-secondary border-2 border-top border-secondary" />
            <a href="/maps?search=Slayer" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Slayer</a>

            <a href="/maps?search=Infection" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Infection</a>

            <a href="/maps?search=Race" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Race</a>

            <a href="/maps?search=Puzzle" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Puzzle</a>

            <a href="/maps?search=KOTH" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">KOTH</a>

            <a href="/maps?search=CTF" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">CTF</a>

            <a href="/maps?search=Assault" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Assault</a>

            <a href="/maps?search=Territories" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Territories</a>

            <a href="/maps?search=Oddball" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Oddball</a>

            <a href="/maps?search=Juggernaut" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Juggernaut</a>

            <a href="/maps?search=VIP" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">VIP</a>

            <a href="/maps?search=Mini%20Games" class="nav-link px-3 py-0 link-secondary align-middle"
              style="font-size: 75%">Mini
              Games</a>

            <hr class="bg-secondary border-2 border-top border-secondary" />
          </ul>
          <div class="pb-5 text-center">
            <a href="/docs" class="d-flex align-items-center text-white text-decoration-none">
              <span class="d-sm-inline mx-3 text-muted" style="vertical-align:bottom;">API</span>
            </a>
            <a href="/about" class="d-flex align-items-center text-white text-decoration-none"
              style="display:inline-block;">
              <span class="d-sm-inline mx-3 text-muted">About</span>
            </a>
            <a href="https://status.zgaf.io/status/ed-service"
              class="d-flex align-items-center px-3 text-muted align-middle">
              <i class="fs-4 bi-activity"></i>
            </a>
            <a href="https://discord.gg/PxPNNteChR" class="d-flex align-items-center px-3 pb-4 text-muted align-middle">
              <i class="fs-4 bi-discord"></i>
            </a>
          </div>
        </div>
      </nav>
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <div class="col py-0">
          <div id="map-container" class="container">
            <div class="row">
              <div id="status-container" class="container w-25 p-3">
                <div class="row">
                  <div id="status-message"></div>
                </div>
              </div>

              <div id="user-profile" class="container">
                <div class="container py-5 h-100 w-100">
                  <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col col-lg-9 col-xl-7">
                      <div class="card">
                        <div class="rounded-top text-white d-flex flex-row"
                          style="background-color: #525151; height:200px;">
                          <div class="ms-4 mt-5 d-flex flex-column" style="width: 150px;">
                            <img src="/content/default/forge.jpg" alt="Generic placeholder image"
                              class="img-fluid img-thumbnail mt-4 mb-2" style="width: 150px; z-index: 1">
                          </div>
                          <div class="ms-3" style="margin-top: 130px;">
                            <h5>{{ user.name }}</h5>
                            <p class="small text-muted mb-0">Last Seen: {{ user.last_login_time.strftime('%Y-%m-%d') }}
                            </p>
                          </div>
                        </div>
                        <div class="card-body p-4 text-black bg-dark">
                          <div class="mb-5">
                            <p class="mb-1 h5 text-muted">Rank: {{ user.rank }}</p>
                            <p class="mb-1 h5 text-muted">Views: {{ user.prof_views }}</p>
                            <p class="lead fw-normal mb-1 text-muted">About:</p>
                            <div class="p-4">
                              <p class="font-italic mb-1 text-muted">{{ user.about }}</p>
                            </div>
                          </div>
                          <ul class="nav nav-tabs mb-3 bg-dark" id="contentTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                              <button class="nav-link active" id="map-tab" data-bs-toggle="tab"
                                data-bs-target="#map-cards" type="button" role="tab" aria-controls="map-cards"
                                aria-selected="true">Maps ({{ stats.maps}})</button>
                            </li>
                            <li class="nav-item" role="presentation">
                              <button class="nav-link" id="prefab-tab" data-bs-toggle="tab"
                                data-bs-target="#prefab-cards" type="button" role="tab" aria-controls="prefab-cards"
                                aria-selected="false">Prefabs ({{ stats.prefabs }})</button>
                            </li>
                            <li class="nav-item" role="presentation">
                              <button class="nav-link" id="mod-tab" data-bs-toggle="tab" data-bs-target="#mod-cards"
                                type="button" role="tab" aria-controls="mod-cards" aria-selected="false">Mods ({{ stats.mods }})</button>
                            </li>
                          </ul>
                          <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="map-cards" role="tabpanel"
                              aria-labelledby="map-tab">
                              {% for maprow in maps | batch(3, '&nbsp;') %}
                              <div class="row top-buffer">
                                {% for map in maprow %}
                                {% if map.id %}
                                <div class="col mb-3 mt-4">
                                  <div class="card text-white bg-secondary h-100">
                                    <a href="/api_v2/mapview?mapId={{map.id}}"><img src="/maps/tb/{{ map.id }}/0"
                                        class="card-img-top" alt="..."
                                        onerror="this.onerror=null;this.src='/content/default/forge.jpg'"></a>
                                    <div class="card-body">
                                      <h4 class="card-title">{{ map.mapName}}</h4>
                                      <h5 class="card-title">{{ map.mapAuthor}}</h5>
                                    </div>
                                    </ul>
                                  </div>
                                </div>
                                {% endif %}
                                {% endfor %}
                              </div>
                              {% endfor %}
                            </div>
                            <div class="tab-pane fade" id="prefab-cards" role="tabpanel" aria-labelledby="prefab-tab">
                              {% for prefabrow in prefabs | batch(3, '&nbsp;') %}
                              <div class="row top-buffer">
                                {% for prefab in prefabrow %}
                                {% if prefab.id %}
                                <div class="col mb-3 mt-4">
                                  <div class="card text-white bg-secondary h-100">
                                    <a href="/api_v2/prefabview?prefabId={{prefab.id}}"><img
                                        src="/prefabs/tb/{{ prefab.id }}/0" class="card-img-top" alt="..."
                                        onerror="this.onerror=null;this.src='/content/default/forge.jpg'"></a>
                                    <div class="card-body">
                                      <h4 class="card-title">{{ prefab.prefabName}}</h4>
                                      <h5 class="card-title">{{ prefab.prefabAuthor}}</h5>
                                    </div>
                                    </ul>
                                  </div>
                                </div>
                                {% endif %}
                                {% endfor %}
                              </div>
                              {% endfor %}
                            </div>
                            <div class="tab-pane fade" id="mod-cards" role="tabpanel" aria-labelledby="mod-tab">
                              {% for modrow in mods | batch(3, '&nbsp;') %}
                              <div class="row top-buffer">
                                {% for mod in modrow %}
                                {% if mod.id %}
                                <div class="col mb-3 mt-4">
                                  <div class="card text-white bg-secondary h-100">
                                    <a href="/api_v2/mapview?mapId={{mod.id}}"><img src="/mods/tb/{{ mod.id }}/0"
                                        class="card-img-top" alt="..."
                                        onerror="this.onerror=null;this.src='/content/default/forge.jpg'"></a>
                                    <div class="card-body">
                                      <h4 class="card-title">{{ mod.modName}}</h4>
                                      <h5 class="card-title">{{ mod.modAuthor}}</h5>
                                    </div>
                                    </ul>
                                  </div>
                                </div>
                                {% endif %}
                                {% endfor %}
                              </div>
                              {% endfor %}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
      </main>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.16/dist/sweetalert2.all.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</body>

<style>
  body {
    font-size: 1.25rem;
    background-image: url("/content/halo.jpg");
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  map-container {
    margin-top: 25%;
  }

  td {
    line-height: 3rem;
  }

  .avatar {
    vertical-align: middle;
    width: 100px;
    height: 100px;
    border-radius: 50%;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.16/dist/sweetalert2.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</body>

</html>